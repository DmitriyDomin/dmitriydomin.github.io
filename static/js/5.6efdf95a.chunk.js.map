{"version":3,"sources":["components/MovieList/MovieComponent/MovieComponent.js","components/MovieList/MovieList.js","pages/Browse/Browse.js"],"names":["MovieComponent","props","history","useHistory","useState","showMovie","setShowMovie","selectClasses","setClasses","inWatchList","dispatch","useDispatch","useEffect","setSelectClasses","filter","className","slice","in","timeout","classNames","elementClass","unmountOnExit","style","backgroundImage","image","onClick","push","id","name","rating","description","join","e","stopPropagation","actions","MovieList","watchList","useSelector","state","movies","console","log","map","movie","imageSrc","find","movieInList","classes","isRecent","length","title","component","Browse","location","setMovies","isMovies","setIsMovies","setData","movieName","URLSearchParams","search","get","toLocaleLowerCase","horrors","Horrors","includes","dramas","Dramas","Actions","sciFi","SciFi","comedies","Comedies","data"],"mappings":"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","file":"static/js/5.6efdf95a.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nimport './MovieComponent.scss'\r\nimport * as actions from \"../../../store/actions\";\r\nimport CSSTransition from \"react-transition-group/cjs/CSSTransition\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst MaxRating = 10;\r\n\r\nconst MovieComponent = (props) => {\r\n\r\n  const history = useHistory();\r\n\r\n  const [showMovie, setShowMovie] = useState(false);\r\n\r\n  const [selectClasses, setClasses] = useState(['Movie-Select']);\r\n  const { inWatchList } = props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    setSelectClasses();\r\n  }, [inWatchList]);\r\n\r\n  const setSelectClasses = () => {\r\n    setShowMovie(true);\r\n    if (inWatchList) {\r\n      setClasses([...selectClasses, 'Active']);\r\n    } else {\r\n      selectClasses.filter(className => className !== 'Active');\r\n      setClasses(selectClasses.filter(className => className !== 'Active').slice());\r\n    }\r\n  }\r\n\r\n  const onMovieAdded = (e) => {\r\n    e.stopPropagation();\r\n    if (!inWatchList) {\r\n      dispatch(actions.addMovie(props.id));\r\n    } else {\r\n      setShowMovie(false);\r\n      dispatch(actions.removeMovie(props.id));\r\n    }\r\n  }\r\n\r\n  const toMovie = () => {\r\n    history.push(`/movie?movieId=${props.id}`);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <CSSTransition\r\n        in={ showMovie }\r\n        timeout={200}\r\n        classNames={ props.elementClass }\r\n        unmountOnExit\r\n      >\r\n        <div className='Movie-component' style={{ backgroundImage: `url(${props.image})` }} onClick={ toMovie }>\r\n          <div className=\"Movie-container\">\r\n            <div className=\"Movie-Title\">{ props.name }</div>\r\n            <div className=\"Movie-Rating\">{ props.rating } / { MaxRating }</div>\r\n            <div className=\"Movie-Description\">{ props.description }</div>\r\n            <div className={ selectClasses.join(' ') } onClick={ onMovieAdded }> </div>\r\n          </div>\r\n        </div>\r\n      </CSSTransition>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MovieComponent;\r\n","import React, {useEffect, useState} from 'react';\r\nimport MovieComponent from \"./MovieComponent/MovieComponent\";\r\nimport './MovieList.scss'\r\nimport {useSelector} from \"react-redux\";\r\nimport CSSTransition from \"react-transition-group/cjs/CSSTransition\";\r\nimport { TransitionGroup } from 'react-transition-group';\r\n\r\nconst MovieList = props => {\r\n\r\n  const watchList = useSelector(state => {\r\n    return state.watchList.movies;\r\n  });\r\n\r\n  const elementClass = props.elementClass || '';\r\n\r\n  console.log(props.movies);\r\n  const movies = props.movies.map(movie => {\r\n    return (\r\n        <CSSTransition\r\n          key={movie.id}\r\n          timeout={500}\r\n          classNames=\"item\"\r\n        >\r\n          <div className=\"Movie\">\r\n            <MovieComponent\r\n              name = { movie.name }\r\n              rating = { movie.rating }\r\n              description = { movie.description }\r\n              image = { movie.imageSrc }\r\n              id = { movie.id }\r\n              inWatchList = { !!watchList.find(movieInList => movieInList.id === movie.id) }\r\n              elementClass = { elementClass }\r\n            >\r\n            </MovieComponent>\r\n          </div>\r\n        </CSSTransition>\r\n      )\r\n    }\r\n  );\r\n\r\n  const classes = [\"Movie-list\"];\r\n  if (props.isRecent) classes.push('Recent');\r\n\r\n  const renderData = movies.length\r\n  ? (\r\n      <div className={ classes.join(' ') }>\r\n        <h2 className='Title'>\r\n          { props.title }\r\n        </h2>\r\n        <TransitionGroup className=\"List\" component='div'>\r\n          { movies }\r\n        </TransitionGroup>\r\n      </div>\r\n    )\r\n  : null;\r\n\r\n\r\n  return (\r\n    renderData\r\n  );\r\n}\r\n\r\nexport default MovieList;\r\n","import React, {useEffect, useState} from 'react';\r\n\r\nimport MovieList from \"../../components/MovieList/MovieList\";\r\nimport './Browse.scss'\r\nimport { Horrors, Dramas, SciFi, Comedies, Actions } from \"../../store/mockBD/movies\";\r\n\r\nconst Browse = props => {\r\n\r\n  const { location } = props;\r\n  const [ movies, setMovies ] = useState({});\r\n  const [ isMovies, setIsMovies ] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setData();\r\n  }, [location]);\r\n\r\n  const setData = () => {\r\n    const movieName = new URLSearchParams(location.search).get('movieName')?.toLocaleLowerCase() || '';\r\n    let horrors = Horrors.filter(movie => movie.name.toLocaleLowerCase().includes(movieName));\r\n    let dramas = Dramas.filter(movie => movie.name.toLocaleLowerCase().includes(movieName));\r\n    let actions = Actions.filter(movie => movie.name.toLocaleLowerCase().includes(movieName));\r\n    let sciFi = SciFi.filter(movie => movie.name.toLocaleLowerCase().includes(movieName));\r\n    let comedies = Comedies.filter(movie => movie.name.toLocaleLowerCase().includes(movieName));\r\n    setMovies({ horrors, dramas, actions, comedies, sciFi });\r\n    setIsMovies(!![...horrors, ...dramas, ...actions, ...sciFi, ...comedies].length);\r\n  }\r\n\r\n  const data = isMovies\r\n    ? (\r\n      <div>\r\n        <MovieList movies = { movies.horrors } title='Horrors'> </MovieList>,\r\n        <MovieList movies = { movies.dramas } title='Dramas'> </MovieList>,\r\n        <MovieList movies = { movies.sciFi } title='SciFi'> </MovieList>,\r\n        <MovieList movies = { movies.comedies } title='Comedies'> </MovieList>,\r\n        <MovieList movies = { movies.actions } title='Actions'> </MovieList>\r\n      </div>\r\n    )\r\n  : (\r\n    <h2 className='Empty-list'> No movie matches your request</h2>\r\n    );\r\n  return (\r\n    <div className='Browse-container'>\r\n      <h1>Movies, serials and shows</h1>\r\n      { data }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Browse;\r\n"],"sourceRoot":""}